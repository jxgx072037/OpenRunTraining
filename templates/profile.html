<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>运动员资料 - Strava 数据应用</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f7f7f7;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 30px auto;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #FC4C02; /* Strava 橙色 */
            text-align: center;
            margin-bottom: 30px;
        }
        .profile {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        .profile-img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-right: 20px;
            object-fit: cover;
        }
        .profile-info h2 {
            margin: 0 0 5px 0;
        }
        .profile-info p {
            margin: 5px 0;
            color: #666;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-box {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
        }
        .stat-box h3 {
            margin: 0;
            font-size: 16px;
            color: #666;
        }
        .stat-box p {
            margin: 5px 0 0 0;
            font-size: 24px;
            font-weight: bold;
            color: #FC4C02;
        }
        .btn {
            display: inline-block;
            background-color: #FC4C02;
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        .btn:hover {
            background-color: #E34402;
        }
        .actions {
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>运动员资料</h1>
        
        {% if athlete %}
        <div class="profile">
            <img src="{{ athlete.profile or athlete.profile_medium or athlete.profile_medium or 'https://www.strava.com/images/default-avatar-50.png' }}" alt="{{ athlete.firstname }} {{ athlete.lastname }}" class="profile-img">
            <div class="profile-info">
                <h2>{{ athlete.firstname }} {{ athlete.lastname }}</h2>
                <p>{{ athlete.city or '' }}{% if athlete.city and athlete.country %}, {% endif %}{{ athlete.country or '' }}</p>
                {% if athlete.bio %}
                <p>{{ athlete.bio }}</p>
                {% endif %}
            </div>
        </div>
        
        <div class="stats">
            <div class="stat-box">
                <h3>关注者</h3>
                <p>{{ athlete.follower_count }}</p>
            </div>
            <div class="stat-box">
                <h3>正在关注</h3>
                <p>{{ athlete.friend_count }}</p>
            </div>
            <div class="stat-box">
                <h3>活动数</h3>
                <p>{{ athlete.resource_state|default('N/A') }}</p>
            </div>
        </div>
        {% else %}
        <p style="text-align: center;">无法加载用户资料。请重新授权应用。</p>
        {% endif %}
        
        <div class="actions">
            <a href="/activities" class="btn">查看我的活动</a>
            <a href="/" class="btn">返回首页</a>
            <a href="/logout" class="btn" style="background-color: #888;">退出登录</a>
        </div>
    </div>
</body>
</html> 